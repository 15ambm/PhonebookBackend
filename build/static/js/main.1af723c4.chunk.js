(this["webpackJsonpp2.6"]=this["webpackJsonpp2.6"]||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),u=t.n(r),c=t(4),l=t(2),i=function(e){var n=e.newName,t=e.newNumber,a=e.buttonHandler,r=e.nameHandler,u=e.numberHandler;return o.a.createElement("form",null,o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:r})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:t,onChange:u})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",onClick:a},"add")))},m=function(e){var n=e.persons,t=e.deleteHandler;return o.a.createElement("div",null,n.map((function(e){return o.a.createElement("li",{key:e.id},e.name,"  -   ",e.number,o.a.createElement("button",{onClick:function(){return t(e.id)}},"Delete"))})))},f=function(e){var n=e.filter,t=e.onChange;return o.a.createElement("div",null,o.a.createElement("input",{value:n,onChange:t}))},d=t(3),s=t.n(d),b="/api/persons",h=function(){return s.a.get(b).then((function(e){return e.data}))},v=function(e){return s.a.post(b,e).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(b,"/").concat(e)).then((function(e){return e}))},E=function(e,n){return s.a.put("".concat(b,"/").concat(e),n).then((function(e){return e}))},g=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"notification"},n)},w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),s=d[0],b=d[1],w=Object(a.useState)(""),j=Object(l.a)(w,2),O=j[0],k=j[1],C=Object(a.useState)(!0),y=Object(l.a)(C,2),H=y[0],N=y[1],S=Object(a.useState)(""),T=Object(l.a)(S,2),L=T[0],P=T[1],A=Object(a.useState)(null),D=Object(l.a)(A,2),J=D[0],x=D[1];Object(a.useEffect)((function(){h().then((function(e){console.log(e),r(e);e.map((function(e){return e.id}))}))}),[]);var B=H?t:t.filter((function(e){var n=e.name.toLocaleLowerCase(),t=L.toLocaleLowerCase();return n.includes(t)}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(g,{message:J}),o.a.createElement(f,{filter:L,onChange:function(e){P(e.target.value),""===e.target.value?N(!0):N(!1)}}),o.a.createElement("h3",null,"Add New Number"),o.a.createElement(i,{newName:s,nameHandler:function(e){console.log(e.target.value),b(e.target.value)},newNumber:O,numberHandler:function(e){console.log(e.target.value),k(e.target.value)},buttonHandler:function(e){e.preventDefault();var n=t.find((function(e){return e.name===s}));if(n){if(window.confirm("".concat(s," is already in the phonebook, would you like to replace the old number with a new one?"))){var a=n.id,o=Object(c.a)(Object(c.a)({},n),{},{number:O}),u=t.map((function(e){return e.id!==a?e:o}));E(a,o).then((function(e){x("The number of '".concat(o.name,"' has been changed")),r(u),b(""),k(""),setTimeout((function(){x(null)}),5e3)}))}}else v({name:s,number:O}).then((function(e){console.log(e),x("'".concat(s,"' has been added to the Phonebook")),r(t.concat(e)),b(""),k(""),setTimeout((function(){x(null)}),5e3)})).catch((function(e){}))}}),o.a.createElement("h3",null,"Numbers"),o.a.createElement(m,{persons:B,deleteHandler:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Are you sure you would like to delete ".concat(n.name))&&p(e).then((function(a){r(t.filter((function(n){return n.id!==e}))),x("'".concat(n.name,"' has been deleted from the Phonebook")),setTimeout((function(){x(null)}),5e3)})).catch((function(e){x("'".concat(n.name,"' has been deleted from the Phonebook")),r(t.filter((function(e){return e.id!==n.id}))),setTimeout((function(){x(null)}),5e3),console.log("the person has been removed from the server already")}))}}))};t(37);u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1af723c4.chunk.js.map